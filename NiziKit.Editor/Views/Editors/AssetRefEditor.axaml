<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="NiziKit.Editor.Views.Editors.AssetRefEditor">

    <StackPanel Spacing="8">
        <Grid ColumnDefinitions="70,*">
            <TextBlock Grid.Column="0"
                       Text="Pack"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource EditorTextSecondary}"/>
            <Border Grid.Column="1"
                    x:Name="PackSelectorHost"
                    Background="{StaticResource EditorSurfaceRaised}"
                    BorderBrush="{StaticResource EditorPanelBorder}"
                    BorderThickness="1"
                    Padding="10,8"
                    Cursor="Hand">
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Grid.Column="0"
                               x:Name="PackDisplayText"
                               Text="(None)"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                    <PathIcon Grid.Column="1"
                              Data="M7,10L12,15L17,10H7Z"
                              Width="12" Height="12"
                              Foreground="{StaticResource EditorTextMuted}"
                              Margin="8,0,0,0"/>
                </Grid>
            </Border>
        </Grid>

        <Grid ColumnDefinitions="70,*">
            <TextBlock Grid.Column="0"
                       Text="Asset"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource EditorTextSecondary}"/>
            <Border Grid.Column="1"
                    x:Name="AssetSelectorHost"
                    Background="{StaticResource EditorSurfaceRaised}"
                    BorderBrush="{StaticResource EditorPanelBorder}"
                    BorderThickness="1"
                    Padding="10,8"
                    Cursor="Hand">
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Grid.Column="0"
                               x:Name="AssetDisplayText"
                               Text="(None)"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                    <PathIcon Grid.Column="1"
                              Data="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14Z"
                              Width="14" Height="14"
                              Foreground="{StaticResource EditorAccentBrush}"
                              Margin="8,0,0,0"
                              ToolTip.Tip="Browse assets"/>
                </Grid>
            </Border>
        </Grid>

        <Popup x:Name="PackSelectorPopup"
               IsLightDismissEnabled="True"
               Placement="Bottom"
               WindowManagerAddShadowHint="True">
            <Border Background="{StaticResource EditorPanelBackground}"
                    BorderBrush="{StaticResource EditorPanelBorder}"
                    BorderThickness="1"
                    Padding="10"
                    MinWidth="200"
                    MaxHeight="300">
                <StackPanel Spacing="8">
                    <TextBox x:Name="PackSearchBox"
                             Watermark="Search packs..."/>
                    <ScrollViewer MaxHeight="220"
                                  HorizontalScrollBarVisibility="Disabled"
                                  VerticalScrollBarVisibility="Auto">
                        <ItemsControl x:Name="PackItemsControl"/>
                    </ScrollViewer>
                </StackPanel>
            </Border>
        </Popup>
    </StackPanel>
</UserControl>
