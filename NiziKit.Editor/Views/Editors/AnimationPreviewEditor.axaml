<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="NiziKit.Editor.Views.Editors.AnimationPreviewEditor">

    <Border Background="{DynamicResource CardBackgroundFillColorSecondaryBrush}"
            CornerRadius="4"
            Padding="8"
            Margin="0,4">
        <StackPanel Spacing="8">
            <!-- Animation Selection -->
            <ComboBox x:Name="AnimationComboBox"
                      HorizontalAlignment="Stretch"
                      SelectionChanged="OnAnimationSelectionChanged"/>

            <!-- Timeline -->
            <Grid ColumnDefinitions="Auto,*,Auto" Margin="0,4">
                <TextBlock x:Name="CurrentTimeText"
                           Text="0:00"
                           Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                           VerticalAlignment="Center"
                           MinWidth="35"/>
                <Slider x:Name="TimelineSlider"
                        Grid.Column="1"
                        Minimum="0"
                        Maximum="1"
                        Value="0"
                        Margin="8,0"
                        ValueChanged="OnTimelineValueChanged"/>
                <TextBlock x:Name="DurationText"
                           Grid.Column="2"
                           Text="0:00"
                           Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                           VerticalAlignment="Center"
                           MinWidth="35"
                           TextAlignment="Right"/>
            </Grid>

            <!-- Playback Controls -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="4">
                <Button x:Name="StopButton"
                        Content="Stop"
                        Padding="12,6"
                        Click="OnStopClicked"
                        ToolTip.Tip="Stop"/>
                <Button x:Name="PlayPauseButton"
                        Content="Play"
                        Padding="16,6"
                        Click="OnPlayPauseClicked"
                        ToolTip.Tip="Play/Pause"/>
                <ToggleButton x:Name="LoopButton"
                              Content="Loop"
                              Padding="12,6"
                              IsChecked="True"
                              ToolTip.Tip="Loop"/>
            </StackPanel>

            <!-- Speed Control -->
            <Grid ColumnDefinitions="Auto,*,Auto">
                <TextBlock Text="Speed"
                           Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                           VerticalAlignment="Center"/>
                <Slider x:Name="SpeedSlider"
                        Grid.Column="1"
                        Minimum="0.1"
                        Maximum="2"
                        Value="1"
                        Margin="8,0"
                        ValueChanged="OnSpeedValueChanged"/>
                <TextBlock x:Name="SpeedText"
                           Grid.Column="2"
                           Text="1.0x"
                           Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                           VerticalAlignment="Center"
                           MinWidth="30"
                           TextAlignment="Right"/>
            </Grid>
        </StackPanel>
    </Border>
</UserControl>
